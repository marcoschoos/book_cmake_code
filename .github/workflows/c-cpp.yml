name: CMake Build Matrix

on: [push]

jobs:
  build:
        
    name: ${{ matrix.name }}
    runs-on: ${{ matrix.config.os }} # будет запускаться по очереди на всех типах машин
    strategy:
      fail-fast: false
      matrix:
        config: 
          - {name:windows, os:windows_latest}
          - {name:ubuntu, os:ubuntu_latest}
    steps:    
    - uses: actions/checkout@v2
    - name: build
      run: |
        cd Kapitel_2/Beispiel_1/
        cmake .
        cmake --build 
        ./cmake_tutorial_02
